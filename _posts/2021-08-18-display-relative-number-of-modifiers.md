---
title: Показ относительного количества модификаторов
layout: default
---

В API V7 для ресторана появилась возможность настроить, как отображать количество групповых модификаторов блюда.
Добавлено новое свойство [`bool IRestaurant.DisplayRelativeNumberOfModifiers`](https://iiko.github.io/front.api.sdk/v7/html/P_Resto_Front_Api_Data_Organization_IRestaurant_DisplayRelativeNumberOfModifiers.htm), обозначающее, что в случае `false` количество модификатора блюда должно отображаться в виде абсолютного количества (как было ранее), а в случае `true` как разница между абсолютным количеством модификатора и его количеством по умолчанию.

Например, у блюда есть модификатор _Сметана_, входящий в группу модификаторов. Для данного модификатора выполняется:
- количество зависит от количества основного блюда
- модификатор является бесплатным
- количество модификатора по умолчанию равно 3

Тогда при `IRestaurant.DisplayRelativeNumberOfModifiers` равном `true` отобразится:
- _+2 Сметана_, если увеличить количество модификатора на 2
- _- Сметана_, если уменьшаем количество на 1

При `IRestaurant.DisplayRelativeNumberOfModifiers` равном `false` отобразится абсолютное количество модификатора у блюда:
- _х5 Сметана_, если увеличить количество модификатора на 2 
- _х2 Сметана_, если уменьшить на 1

Данная настройка влияет на показ модификаторов на экранах редактирования заказа, закрытого заказа, списка доставок, списка заказов, КДС и в сервис-чеках.

Также добавлен метод [`GetModifierAmountString()`](https://iiko.github.io/front.api.sdk/v7/html/M_Resto_Front_Api_IOperationService_GetModifierAmountString.htm), позволяющий получить количество модификатора для отображения на UI.

Метод принимает
- `decimal modifierAmount` — количество модификатора,
- `int defaultAmount` — количество модификатора по умолчанию,
- `bool hideIfDefaultAmount` — настроено ли для данного группового модификатора "Скрывать, если количество по умолчанию",
- `bool isPaid` — является ли модификатор платным,
- `bool isAmountIndependentOfParentAmount` — настроено ли для данного модификатора "Количество не зависит от количества блюда".

В результате метод возвращает строку вида `<знак><число>`, которую нужно отобразить на UI рядом с названием модификатора.